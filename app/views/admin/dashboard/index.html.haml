- settings_repository = SettingsRepository.new
%h1 Dashboard

%hr

%p= "Number of users: #{number_of_all_users}"
%p= "Number of investor plans: #{number_of_investor_plans}"
%p= "Number of hodler plans: #{number_of_hodler_plans}"
%p= "Number of bots: #{number_of_all_bots}"
%p= "Number of working bots: #{number_of_working_bots}"
-# %p= "Number of all transactions: #{number_of_all_transactions}"

%hr

%label Payments' methods
%p
%div
  %label
    %input{:type => 'checkbox', :checked => settings_repository.show_card_payment, :onChange => "change('show_card_payment', checked)"} Card Payments (Stripe)
%div
  %label
    %input{:type => 'checkbox', :checked => settings_repository.show_bitcoin_payment, :onChange => "change('show_bitcoin_payment', checked)"} BTC Payments

%div
  %label
    %input{:type => 'checkbox', :checked => settings_repository.show_wire_payment, :onChange => "change('show_wire_payment', checked)"} Wire Transfers
:javascript
    function change(name,value) {
      fetch("/admin/change_setting", {
        method: "PUT",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ name, value })
      })
    }
