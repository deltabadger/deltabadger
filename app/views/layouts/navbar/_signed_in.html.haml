%input{ type: "checkbox", id: "hamburger" }

.hamburger.hamburger__a
.hamburger.hamburger__b

.menu-mobile
  = link_to root_path, class: 'menu-mobile__item menu-mobile__item--dashboard', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
    = t('links.dashboard')

  = link_to portfolios_path, class: 'menu-mobile__item menu-mobile__item--analyzer', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
    = "Prism"

  = link_to affiliate_path, class: "menu-mobile__item menu-mobile__item--referral-program", data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
    = t('links.referral_program')

  = link_to settings_path, class: 'menu-mobile__item menu-mobile__item--settings', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
    = t('links.settings')

  - if current_user.subscription.name == 'legendary'
    = link_to legendary_path, class: 'menu-mobile__item menu-mobile__item--legendary-plan', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = t('links.legendary')
  - else
    = link_to upgrade_path, class: 'menu-mobile__item menu-mobile__item--upgrade', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = t('subscriptions.upgrade_plan')
  .menu-mobile__divider
  = link_to 'https://skool.com/fire', class: "menu-mobile__item menu-mobile__item--community", data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' }, target: "_blank", rel: "noopener" do
    = t('links.community')
    = render "svg/16x16_link"

  .menu-mobile__divider
  .menu-mobile__item
    = params[:locale]&.to_s&.upcase || 'EN'
  - locale = params[:locale]
  - unless locale.blank? || locale == 'en'
    = link_to "English", url_for(request.params.merge(locale: nil)), class: "menu-mobile__item"
  - unless locale == 'de'
    = link_to "Deutsch", url_for(request.params.merge(locale: 'de')), class: "menu-mobile__item"
  - unless locale == 'nl'
    = link_to "Nederlandse", url_for(request.params.merge(locale: 'nl')), class: "menu-mobile__item"
  - unless locale == 'fr'
    = link_to "FranÃ§ais", url_for(request.params.merge(locale: 'fr')), class: "menu-mobile__item"
  - unless locale == 'es'
    = link_to "EspaÃ±ol", url_for(request.params.merge(locale: 'es')), class: "menu-mobile__item"
  - unless locale == 'pt'
    = link_to "PortuguÃªs", url_for(request.params.merge(locale: 'pt')), class: "menu-mobile__item"
  - unless locale == 'pl'
    = link_to "Polski", url_for(request.params.merge(locale: 'pl')), class: "menu-mobile__item"
  - unless locale == 'ru'
    = link_to "Ğ ÑƒÑÑĞºĞ¸Ğ¹", url_for(request.params.merge(locale: 'ru')), class: "menu-mobile__item"
  .menu-mobile__divider
  = button_to destroy_user_session_path, method: :delete, class: "menu-mobile__item menu-mobile__button", data: { turbo: false } do
    = t('links.logout')
.menu
  .menu__section.menu__section--top.menu__section--logo

    = link_to root_path, class: 'menu__logo' do
      -unless current_user.subscription.name == 'legendary'
        = render 'svg/40x30_logo'
        -# = render 'layouts/devise_messages'
      -else
        = render 'svg/40x30_logo'
        -# = render 'svg/40x30_logo_legendary'

  .menu__section.menu__section--top.menu__section--main-menu

    = link_to root_path, class: 'menu__item menu__item--dashboard', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = render 'svg/24x24_dashboard'
      .tooltip
        = t('links.dashboard')

    = link_to portfolios_path, class: 'menu__item menu__item--analyzer', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = render 'svg/24x24_prism_c'
      .tooltip
        = "Prism"

    = link_to affiliate_path, class: "menu__item menu__item--referral-program", data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = render 'svg/24x24_bitcoin'
      .tooltip
        = t('links.earn')

    = link_to settings_path, class: 'menu__item menu__item--settings', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
      = render 'svg/24x24_sliders'
      .tooltip
        = t('links.settings')

    = link_to 'https://skool.com/fire', class: "menu__item menu__item--community", data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' }, target: "_blank", rel: "noopener" do
      = render 'svg/24x24_fire'
      //.xsbadge= t('utils.new')
      .tooltip
        = t('links.community')

    - if current_user.subscription.name == 'legendary'
      = link_to legendary_path, class: 'menu__item menu__item--legendary-plan', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
        = render 'svg/24x24_legendary'
        .tooltip
          = t('links.legendary')
          = t('subscriptions.plan_life_time')
    - else
      = link_to upgrade_path, class: 'menu__item menu__item--upgrade', data: { controller: 'tooltip', action: 'mouseenter->tooltip#showTooltip mouseleave->tooltip#hideTooltip' } do
        = render 'svg/24x24_upgrade'
        .tooltip
          .tooltip__title
            = t('subscriptions.upgrade_plan')
          - unless current_user.subscription.days_left.nil?
            .tooltip__counter
              = t('subscriptions.days_left', count: current_user.subscription.days_left)

  .menu__section.menu__section--bottom
    .btn-group
      %button.menu__button{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
        = params[:locale]&.to_s&.upcase || 'EN'
      .dropdown-menu.dropdown-menu-right
        - locale = params[:locale]
        - unless locale.blank? || locale == 'en'
          = link_to "ğŸ‡¬ğŸ‡§ English", url_for(locale: nil), class: "dropdown-item"
        - unless locale == 'de'
          = link_to "ğŸ‡©ğŸ‡ª Deutsch", url_for(locale: 'de'), class: "dropdown-item"
        - unless locale == 'nl'
          = link_to "ğŸ‡³ğŸ‡± Nederlandse", url_for(locale: 'nl'), class: "dropdown-item"
        - unless locale == 'fr'
          = link_to "ğŸ‡«ğŸ‡· FranÃ§ais", url_for(locale: 'fr'), class: "dropdown-item"
        - unless locale == 'es'
          = link_to "ğŸ‡ªğŸ‡¸ EspaÃ±ol", url_for(locale: 'es'), class: "dropdown-item"
        - unless locale == 'pt'
          = link_to "ğŸ‡µğŸ‡¹ PortuguÃªs", url_for(locale: 'pt'), class: "dropdown-item"
        - unless locale == 'pl'
          = link_to "ğŸ‡µğŸ‡± Polski", url_for(locale: 'pl'), class: "dropdown-item"
        - unless locale == 'ru'
          = link_to "ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹", url_for(locale: 'ru'), class: "dropdown-item"

    = button_to destroy_user_session_path, method: :delete, class: "menu__item menu__button", data: { turbo: false } do

      = render 'svg/24x24_logout'