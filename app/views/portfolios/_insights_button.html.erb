<% path = portfolio.limited? ? upgrade_instructions_path : portfolio_openai_insights_path(portfolio) %>
<% data = portfolio.limited? ? { turbo_frame: "modal" } : { turbo_stream: true, turbo_submits_with: "Thinking..." } %>
<%= button_to path, method: :get, id: "openai-insights-button", class: "button button--link button--ai", style: "position: relative", data: data, disabled: backtest.blank? do %>
  <%= t('analyzer.insights') %>
  <%= render "svg/24x24_magic" %>
<% end %>