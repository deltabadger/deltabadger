<div id="start-date" class="flex-row">

  <%# using flatpickr %>
  <%# <%= form_with model: portfolio, url: portfolio_update_backtest_start_date_path(portfolio), method: :patch, data: { controller: "flatpickr form--submit", flatpickr_locale_value: I18n.locale, flatpickr_max_date_value: 2.days.ago } do |f| %>
    <%# <%= f.text_field :backtest_start_date, class: "fp_date sinput sinput--calendar", data: { action: "change->form--submit#submit" } %>

  <%# using native date selector %>
  <%= form_with model: portfolio, url: portfolio_update_backtest_start_date_path(portfolio), method: :patch, data: { controller: "form--submit" } do |f| %>
    <%= f.date_field :backtest_start_date, class: "sinput sinput--calendar", max: 2.days.ago, data: { action: "change->form--submit#submit" } %>
  <% end %>

  <%= button_to t('utils.time_periods.ytd'), portfolio_update_backtest_start_date_path(portfolio, { portfolio: { backtest_start_date: Date.today.beginning_of_year.to_date } }), method: :patch, title: t('utils.time_periods.ytd_title'), class: "button button--link" %>
  <%= button_to t('utils.time_periods.one_year'), portfolio_update_backtest_start_date_path(portfolio, { portfolio: { backtest_start_date: 1.years.ago.to_date } }), method: :patch, title: t('utils.time_periods.one_year_title'), class: "button button--link" %>
  <%= button_to t('utils.time_periods.three_years'), portfolio_update_backtest_start_date_path(portfolio, { portfolio: { backtest_start_date: 3.years.ago.to_date } }), method: :patch, title: t('utils.time_periods.three_years_title'), class: "button button--link" %>
  <%= button_to t('utils.time_periods.five_years'), portfolio_update_backtest_start_date_path(portfolio, { portfolio: { backtest_start_date: 5.year.ago.to_date } }), method: :patch, title: t('utils.time_periods.five_years_title'), class: "button button--link" %>
</div>
