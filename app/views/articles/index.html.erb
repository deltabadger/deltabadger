<% content_for :title, t('articles.index.title') %>
<% content_for :meta_description, t('articles.index.meta_description') %>

<% content_for :head do %>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400..700&family=Inter+Tight:ital,wght@0,100..900;1,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="<%= t('articles.index.title') %>">
  <meta property="og:description" content="<%= t('articles.index.meta_description') %>">
  <meta property="og:url" content="<%= articles_url %>">
  <meta property="og:site_name" content="Deltabadger Research">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="<%= t('articles.index.title') %>">
  <meta name="twitter:description" content="<%= t('articles.index.meta_description') %>">
<% end %>

<% unless current_user.present? %>
<hgroup class="articles-header">
  <a class="db_nav__brand" href="https://deltabadger.com/" title="DCA Crypto">
        
<svg class="db_nav__brand__logo" viewBox="0 0 40 30" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.85 13.78a1 1 0 0 1-.32 1.38C2.33 15.92 2 16.56 2 17c0 .37.24.9 1.1 1.53.83.63 2.1 1.23 3.77 1.76C10.18 21.34 14.83 22 20 22c5.17 0 9.82-.66 13.13-1.71a13.04 13.04 0 0 0 3.78-1.76C37.76 17.9 38 17.37 38 17c0-.75-1.3-1.66-2.3-2.23a1 1 0 0 1-.32-1.38c.3-.46.9-.53 1.38-.3C38.08 13.72 40 15.01 40 17a3 3 0 0 1-.4 1.5 22.45 22.45 0 0 1-39.22-.02A3.1 3.1 0 0 1 0 17c0-1.5 1.1-2.67 2.47-3.53a1 1 0 0 1 1.38.31Zm1.6 8.14A20.28 20.28 0 0 0 20 28a20.2 20.2 0 0 0 14.52-6.07c-.26.1.27-.08 0 0A48.84 48.84 0 0 1 20 24c-6 0-11-.95-14.56-2.08Z" class="fill--icon-active"></path>
  <path d="M8.83 17.43c-.15.4-.54.57-.93.58a.98.98 0 0 1-.9-.9v-6.1c-.59 0-1-.4-1-1V8c0-3.5 1.95-5.7 3.5-6.5C10.17.85 11 0 12.7.01c1.31.01 2.05 1.02 2.54 1.51.27.26.43.68.28 1.01-.16.37-.55.48-.86.48H13.5s1.14.53 1.55 1.36c.17.33.32.87.49 1.46.25.9.64 2.1 1.1 2.76.45.67-.02 1.4-.7 1.4-.88 0-1.63-1.1-1.93-1.48 0 2-.02 6.63-.01 7.58 0 .5-.47.93-.96.92a.98.98 0 0 1-.9-.7 35.4 35.4 0 0 0-.4-1.53c-.12-.42-.38-.7-.84-.76a.95.95 0 0 0-.95.53c-.23.54-.8 2.01-1.12 2.88ZM29 5a2 2 0 0 0 1 1.74V16a1 1 0 1 0 2 0V6.74A2 2 0 1 0 29 5Zm-5 6.74a2 2 0 1 1 2 0V16a1 1 0 1 1-2 0v-4.26Zm-5 5.37a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" class="fill--icon-active"></path>
</svg> 
        <span class="db_nav__brand__name">Deltabadger Research</span>
      </a>
  <h1 class="articles-header__title"><%= t('articles.index.description_html').html_safe %></h1>

  <div class="articles-header__subscribe">
    <%= link_to new_user_registration_path, class: "button button--primary button--large" do %>
      <%= t('button.subscribe') %> â†’
    <% end %>
    <%= render partial: 'articles/premium_subscribers', locals: { count: @premium_subscribers_count } %>
  </div>

</hgroup>
<% end %>

<% if @articles.any? %>
  <div class="articles">
    <% @articles.each do |article| %>
      <%= link_to article_path(article), class: "article-card", data: { turbo: false } do %>
        <% if article.thumbnail_path.present? %>
          <% jpg_thumbnail = article.thumbnail_path.gsub(/\.[^.]+$/, '.jpg') %>
          <%= image_tag jpg_thumbnail, alt: article.plain_title, class: "article-card__thumbnail" %>
        <% end %>


        <div class="article-card__content">

          <% if article.published_at.present? %>
            <time class="article-card__meta__date" datetime="<%= article.published_at.iso8601 %>">
              <%= l(article.published_at.to_date, format: :long) %>
            </time>
          <% end %>

          <h2 class="article-card__title">
            <%= article.title.html_safe %>
          </h2>

          <div class="article-excerpt">
            <%= article.excerpt %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

  <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
<% else %>
  <div class="no-articles">
    <p><%= t('articles.index.no_articles') %></p>
  </div>
<% end %>