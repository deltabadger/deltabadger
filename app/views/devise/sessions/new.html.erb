<% content_for :title, page_title_for_static_page('sign_in') %>
<% content_for :meta_description, meta_description_for_static_page('sign_in') %>

<%= form_with model: resource, url: session_path(resource_name), method: :post, data: { controller: "form--html5-validations form--label-animations" } do |f| %>

  <%= render 'svg/40x30_logo' %>

  <h1><%= t('.title') %></h1>

  <div class="form__row">
    <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form__input form__input--large", pattern: @email_address_pattern, data: { html5_error_message: t('devise.registrations.new.email_invalid') } %>
    <%= f.label :email, class: "form__label" %>
  </div>

  <%= tag.div class: "form__row db-has-unmask", data: { controller: "form--password-unmask" } do %>
    <%= f.password_field :password, autocomplete: "current-password", class: "form__input form__input--has-icon form__input--large", data: { form__password_unmask_target: "input" } %>
    <%= f.label :password, class: "form__label" %>
    <div class="db-unmask" data-action="click->form--password-unmask#toggle">
      <%= render "layouts/svg_mi_visibility" %>
      <%= render "layouts/svg_mi_visibility-off" %>
    </div>

    <% if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
      <div class="form__info form__info--right">
        <%= link_to t('.forgot_password'), new_password_path(resource_name) %>
      </div>
    <% end %>
  <% end %>

  <% if devise_mapping.rememberable? %>
    <div class="toggle">
      <%= f.check_box :remember_me %>
      <div class="toggle__style"></div>
      <%= f.label :remember_me, class: "label" %>
      
    </div>
  <% end %>

  <div class="form__row form__row--final-button">
    <%= f.submit t('.submit'), class: "button button--sky button--large w-100" %>
  </div>

  <%= render "devise/shared/links" %>
<% end %>


