<% content_for :body_class, ".view--settings" %>

<div class="page-head">
  <div class="stitle"><%= t('.title') %></div>
</div>

<div class="columns">
  <div class="column gap-1">
    <%= render partial: 'settings/forms/update_name', locals: { name_pattern: @name_pattern } %>
    <%= render partial: 'settings/forms/update_email', locals: { email_address_pattern: @email_address_pattern } %>
  </div>

  <div class="column gap-1">
    <%= render partial: 'settings/forms/update_password', locals: {
      password_pattern: @password_pattern,
      password_length_pattern: @password_length_pattern,
      password_uppercase_pattern: @password_uppercase_pattern,
      password_lowercase_pattern: @password_lowercase_pattern,
      password_digit_pattern: @password_digit_pattern,
      password_symbol_pattern: @password_symbol_pattern,
    } %>

    <div class="widget">
      <h4 class="modal__title"><%= t('settings.index.two_factor_section') %></h4>
      <div class="large-button-wrapper">
        <%= link_to @two_fa_button_text, settings_edit_two_fa_path, class: "button button--large button--success", data: { turbo_frame: "modal" } %>
      </div>
    </div>

    <div class="widget">
      <h4 class="modal__title">Community Access</h4>
      <div class="form-group">
        <% if current_user.has_community_access? %>
          <p>You have access to our community platform.</p>
          <div class="large-button-wrapper">
            <%= link_to "Visit Community", "https://skool.com/fire", class: "button button--large button--primary", target: "_blank", rel: "noopener" %>
          </div>
        <% else %>
          <p>You currently don't have access to our community platform.</p>
          <div class="large-button-wrapper">
            <%= link_to "Request Access", settings_community_access_instructions_path, class: "button button--large button--primary", data: { turbo_frame: "modal" } %>
          </div>
        <% end %>
      </div>
    </div>

    <%= render partial: 'settings/forms/update_api_keys' %>
  </div>
</div>