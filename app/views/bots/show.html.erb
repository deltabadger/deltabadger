<%= turbo_frame_tag "bot" do %>
  <div class="page-head">
    <%= render "bots/header", bot: @bot, other_bots: @other_bots %>
  </div>
  <div class="flex-column gap-1">
    <div class="bot-control">
      <%= render "bots/status/status_bar", bot: @bot %>
      <%= render "bots/status/status_button", bot: @bot %>
    </div>
    <div class="columns">
      <div class="column gap-1">
        <%= render partial: "bots/settings", locals: { bot: @bot } %>
        <%= render partial: "bots/settings_extra", locals: { bot: @bot } %>
        <%= render partial: "bots/exchange_select", locals: { bot: @bot } %>
        <%= render partial: "bots/description", locals: { bot: @bot } %>
      </div>
      <div class="column gap-1">
        <div class="insight insight--warning insight--in-progress" style="--progress: 88%">
          <%= t('bots.minimum_transaction_size_warning',
                amount: @warning_amount || 10,
                quote_currency: @warning_quote_currency || 'USD',
                exchange_name: @bot.exchange&.name || 'Coinbase',
                min_transaction_size: @warning_min_size || 0.001,
                base_currency: @warning_base_currency || 'BTC')
           %>
        </div>
        <%= render partial: "bots/chart", locals: { bot: @bot } %>
        <%= render partial: "bots/metrics/metrics", locals: { bot: @bot } %>
        <%= render partial: "bots/orders/orders", locals: { bot: @bot } %>
      </div>
    </div>
  </div>
<% end %>