<%= tag.div id: dom_id(bot, :status_button) do %>
  <% if !bot.stopped? %>
    <%= button_to bot_stop_path(bot), method: :patch, class: "button button--sky button--outline", data: { hw_animate_out: "animate-button-to-start-shape"} do %>
      <div class="animicon animicon--stop">
        <div class="animicon__a"></div>
        <div class="animicon__b"></div>
      </div>
    <% end %>
  <% else %>
    <% if bot.restarting? %>
      <%= button_to edit_bot_start_path(bot), method: :get, class: "button button--success", data: { hw_animate_out: "animate-button-to-stop-shape", turbo_frame: "modal" }, disabled: bot.invalid?(:start) || !bot.api_key.correct? do %>
        <div class="animicon animicon--start">
          <div class="animicon__a"></div>
          <div class="animicon__b"></div>
        </div>
      <% end %>
    <% else %>
      <%= button_to bot_start_path(bot, start_fresh: true), method: :patch, class: "button button--success", data: { hw_animate_out: "animate-button-to-stop-shape" }, disabled: bot.invalid?(:start) || !bot.api_key.correct? do %>
        <div class="animicon animicon--start">
          <div class="animicon__a"></div>
          <div class="animicon__b"></div>
        </div>
      <% end %>
    <% end %>
  <% end %>
<% end %>
