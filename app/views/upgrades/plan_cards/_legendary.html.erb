<%= tag.div class: "widget widget--pricing widget--pricing--#{generic_plan_name} widget--pricing--other" do %>
  <div class="widget--pricing__name">
    <%= t('subscriptions.legendary') %>
  </div>

  <div id="plan-card-amount-<%= generic_plan_name %>" class="widget--pricing__amount">
    <%= render partial: "upgrades/plan_cards/elements/price", locals: {
      payment_option: payment_option,
      reference_duration: reference_duration,
      reference_payment_option: reference_payment_option,
    } %>
  </div>

  <% if scope == 'upgrade' %>
    <%= render partial: "upgrades/plan_cards/elements/button", locals: { generic_plan_name: generic_plan_name } %>
  <% elsif scope == 'pricing' %>
    <%= link_to t('button.start_now'), new_user_registration_path, class: "button button--success button--large button--upgrade", data: { turbo: false } %>
  <% end %>

  <% if scope == 'checkout' %>
    <ul class="widget--pricing__opt-bots">
      <li><%= t('subscriptions.features.unlimited_bots') %></li>
      <li><%= t('subscriptions.features.nft') %></li>
    </ul>
    <small></small>
    <ul class="widget--pricing__opt-strategies">
      <li><%= t('subscriptions.features.dca') %></li>
      <li><%= t('subscriptions.features.rebalanced_dca') %></li>
    </ul>
    <small></small>
    <ul class="widget--pricing__opt-execution">
      <li><%= t('subscriptions.features.smart_intervals') %></li>
      <li><%= t('subscriptions.features.feecutter') %></li>
    </ul>
    <small></small>
    <ul class="widget--pricing__opt-triggers">
      <li><%= t('subscriptions.features.buy_the_dip') %></li>
      <li><%= t('subscriptions.features.sma_ema') %></li>
      <li><%= t('subscriptions.features.rsi') %></li>
      <li><%= t('subscriptions.features.price_limit') %></li>
      <li><%= t('subscriptions.features.amount_limit') %></li>
    </ul>

    <small></small>

    <ul class="widget--pricing__opt-research">
      <li><%= t('subscriptions.features.premium_newsletter') %></li>
      <li><%= t('subscriptions.features.portfolio_analyzer') %></li>
    </ul>
  <% else %>
    <ul>
      <li><%= t('subscriptions.features.everything_from_pro') %></li>
      <li><%= t('subscriptions.features.unlimited_bots') %></li>
      <li><%= t('subscriptions.features.nft') %></li>
    </ul>
  <% end %>

  <div class="legendary-counter">
    <span class="legendary-counter__discount">
      <%= t('subscriptions.payment.legendary_plan_discount_html', amount: localized_price(10, payment_option.currency)) %>
    </span>
    <div class="widget--pricing__legendary-plans-left">
      <span><%= t('subscriptions.legendary_plan_left_html', for_sale_count: legendary_plan.for_sale_count, total_supply: legendary_plan.total_supply) %></span>
      <div class="slider">
        <div class="slider__style">
          <div class="slider__style__track">
            <div class="slider__style__progress" role="progressbar" style="width: <%= legendary_plan.sold_percent %>%" aria-valuenow="<%= legendary_plan.sold_percent %>" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>